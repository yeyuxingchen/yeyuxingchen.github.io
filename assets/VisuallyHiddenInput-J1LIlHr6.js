
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{b as s,at as h,au as E,d as f,s as $,q as B,e as p,o,m as c,av as _,G as k,a1 as A,a0 as g}from"./index-DEvcBNPV.js";function q(r){return s(()=>{var e;return h(r)?!!((e=E(r))!=null&&e.closest("form")):!0})}const v=f({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const e=r,{primitiveElement:i,currentElement:l}=$(),t=s(()=>e.checked??e.value);return B(t,(a,n)=>{if(!l.value)return;const u=l.value,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(m&&a!==n){const y=new Event("input",{bubbles:!0}),b=new Event("change",{bubbles:!0});m.call(u,a),u.dispatchEvent(y),u.dispatchEvent(b)}}),(a,n)=>(o(),p(_,c({ref_key:"primitiveElement",ref:i},{...e,...a.$attrs},{as:"input"}),null,16))}}),V=f({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(r){const e=r,i=s(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),l=s(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((t,a)=>typeof t=="object"?Object.entries(t).map(([n,u])=>({name:`[${e.name}][${a}][${n}]`,value:u})):{name:`[${e.name}][${a}]`,value:t}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([t,a])=>({name:`[${e.name}][${t}]`,value:a})):[]);return(t,a)=>i.value?(o(),p(v,c({key:t.name},{...e,...t.$attrs},{name:t.name,value:t.value}),null,16,["name","value"])):(o(!0),k(g,{key:1},A(l.value,n=>(o(),p(v,c({key:n.name,ref_for:!0},{...e,...t.$attrs},{name:n.name,value:n.value}),null,16,["name","value"]))),128))}});export{V as _,q as u};
