
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
var pe=c=>{throw TypeError(c)};var Be=(c,r,a)=>r.has(c)||pe("Cannot "+a);var K=(c,r,a)=>(Be(c,r,"read from private field"),a?a.call(c):r.get(c)),me=(c,r,a)=>r.has(c)?pe("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(c):r.set(c,a);import{_ as Ie}from"./index.vue_vue_type_script_setup_true_lang-Cy0LMGDc.js";import{c as se,d as P,u as ne,a as _e,b as x,e as S,o as $,w as d,r as D,f as Y,g as e,m as B,h as X,i as Re,j as ze,_ as Ae,P as Z,k as s,l as je,t as Ee,n as Oe,p as R,q as G,s as Me,v as qe,x as De,y as Le,z as Te,A as Ue,B as Ne,C as he,D as Q,E as ee,F as xe,G as T,H as m,I as $e,J as Ke,K as fe,L as we,M as Ze,N as Je,O as ve,T as A,Q as Xe,R as Ge,S as V,U as oe,V as He,W as Qe,X as U,Y as We,Z as Ye,$ as ke,a0 as Ve,a1 as et,a2 as tt,a3 as at,a4 as st,a5 as nt,a6 as ge}from"./index-DEvcBNPV.js";import{_ as ot}from"./logo-DuggxAT9.js";import{u as lt,_ as Ce}from"./VisuallyHiddenInput-J1LIlHr6.js";import{_ as le}from"./index-BunjYBV2.js";import{u as re,t as ie,o as ue,b as rt,s as z,F as j,_ as E,a as O,c as q}from"./FormMessage.vue_vue_type_script_setup_true_lang-DTts0P05.js";import{_ as it}from"./index.vue_vue_type_script_setup_true_lang-CpnwxH0O.js";import{_ as ut}from"./index.vue_vue_type_script_setup_true_lang-CsPvYlxn.js";function be(c){return typeof c=="string"?`'${c}'`:new ct().serialize(c)}const ct=function(){var r;class c{constructor(){me(this,r,new Map)}compare(t,n){const u=typeof t,i=typeof n;return u==="string"&&i==="string"?t.localeCompare(n):u==="number"&&i==="number"?t-n:String.prototype.localeCompare.call(this.serialize(t,!0),this.serialize(n,!0))}serialize(t,n){if(t===null)return"null";switch(typeof t){case"string":return n?t:`'${t}'`;case"bigint":return`${t}n`;case"object":return this.$object(t);case"function":return this.$function(t)}return String(t)}serializeObject(t){const n=Object.prototype.toString.call(t);if(n!=="[object Object]")return this.serializeBuiltInType(n.length<10?`unknown:${n}`:n.slice(8,-1),t);const u=t.constructor,i=u===Object||u===void 0?"":u.name;if(i!==""&&globalThis[i]===u)return this.serializeBuiltInType(i,t);if(typeof t.toJSON=="function"){const l=t.toJSON();return i+(l!==null&&typeof l=="object"?this.$object(l):`(${this.serialize(l)})`)}return this.serializeObjectEntries(i,Object.entries(t))}serializeBuiltInType(t,n){const u=this["$"+t];if(u)return u.call(this,n);if(typeof(n==null?void 0:n.entries)=="function")return this.serializeObjectEntries(t,n.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,n){const u=Array.from(n).sort((l,f)=>this.compare(l[0],f[0]));let i=`${t}{`;for(let l=0;l<u.length;l++){const[f,p]=u[l];i+=`${this.serialize(f,!0)}:${this.serialize(p)}`,l<u.length-1&&(i+=",")}return i+"}"}$object(t){let n=K(this,r).get(t);return n===void 0&&(K(this,r).set(t,`#${K(this,r).size}`),n=this.serializeObject(t),K(this,r).set(t,n)),n}$function(t){const n=Function.prototype.toString.call(t);return n.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${n.replace(/\s*\n\s*/g,"")}`}$Array(t){let n="[";for(let u=0;u<t.length;u++)n+=this.serialize(t[u]),u<t.length-1&&(n+=",");return n+"]"}$Date(t){try{return`Date(${t.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(t){return`ArrayBuffer[${new Uint8Array(t).join(",")}]`}$Set(t){return`Set${this.$Array(Array.from(t).sort((n,u)=>this.compare(n,u)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}r=new WeakMap;for(const a of["Error","RegExp","URL"])c.prototype["$"+a]=function(t){return`${a}(${t})`};for(const a of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])c.prototype["$"+a]=function(t){return`${a}[${t.join(",")}]`};for(const a of["BigInt64Array","BigUint64Array"])c.prototype["$"+a]=function(t){return`${a}[${t.join("n,")}${t.length>0?"n":""}]`};return c}();function te(c,r){return c===r||be(c)===be(r)}function ae(c){return c==null}function ye(c,r){return ae(c)?!1:Array.isArray(c)?c.some(a=>te(a,r)):te(c,r)}const[dt,ca]=se("CheckboxGroupRoot");function H(c){return c==="indeterminate"}function Se(c){return H(c)?"indeterminate":c?"checked":"unchecked"}const[pt,mt]=se("CheckboxRoot"),ft=P({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(c,{emit:r}){const a=c,t=r,{forwardRef:n,currentElement:u}=ne(),i=dt(null),l=_e(a,"modelValue",t,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),f=x(()=>(i==null?void 0:i.disabled.value)||a.disabled),p=x(()=>ae(i==null?void 0:i.modelValue.value)?l.value==="indeterminate"?"indeterminate":l.value:ye(i.modelValue.value,a.value));function b(){if(ae(i==null?void 0:i.modelValue.value))l.value=H(l.value)?!0:!l.value;else{const v=[...i.modelValue.value||[]];if(ye(v,a.value)){const k=v.findIndex(h=>te(h,a.value));v.splice(k,1)}else v.push(a.value);i.modelValue.value=v}}const o=lt(u),w=x(()=>{var v;return a.id&&u.value?(v=document.querySelector(`[for="${a.id}"]`))==null?void 0:v.innerText:void 0});return mt({disabled:f,state:p}),(v,k)=>{var h,C;return $(),S(ze((h=e(i))!=null&&h.rovingFocus.value?e(Ae):e(Z)),B(v.$attrs,{id:v.id,ref:e(n),role:"checkbox","as-child":v.asChild,as:v.as,type:v.as==="button"?"button":void 0,"aria-checked":e(H)(p.value)?"mixed":p.value,"aria-required":v.required,"aria-label":v.$attrs["aria-label"]||w.value,"data-state":e(Se)(p.value),"data-disabled":f.value?"":void 0,disabled:f.value,focusable:(C=e(i))!=null&&C.rovingFocus.value?!f.value:void 0,onKeydown:X(Re(()=>{},["prevent"]),["enter"]),onClick:b}),{default:d(()=>[D(v.$slots,"default",{modelValue:e(l),state:p.value}),e(o)&&v.name&&!e(i)?($(),S(e(Ce),{key:0,type:"checkbox",checked:!!p.value,name:v.name,value:v.value,disabled:f.value,required:v.required},null,8,["checked","name","value","disabled","required"])):Y("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),vt=P({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(c){const{forwardRef:r}=ne(),a=pt();return(t,n)=>($(),S(e(je),{present:t.forceMount||e(H)(e(a).state.value)||e(a).state.value===!0},{default:d(()=>[s(e(Z),B({ref:e(r),"data-state":e(Se)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":t.asChild,as:t.as},t.$attrs),{default:d(()=>[D(t.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),[gt,bt]=se("PinInputRoot"),yt=P({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{},defaultValue:{},placeholder:{default:""},mask:{type:Boolean},otp:{type:Boolean},type:{default:"text"},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","complete"],setup(c,{emit:r}){const a=c,t=r,{mask:n,otp:u,placeholder:i,type:l,disabled:f,dir:p}=Ee(a),{forwardRef:b}=ne(),o=Oe(p),w=_e(a,"modelValue",t,{defaultValue:a.defaultValue??[],passive:a.modelValue===void 0}),v=x(()=>Array.isArray(w.value)?[...w.value]:[]),k=R(new Set);function h(_){k.value.add(_)}const C=x(()=>v.value.filter(I=>!!I).length===k.value.size);return G(w,()=>{C.value&&t("complete",w.value)},{deep:!0}),bt({modelValue:w,currentModelValue:v,mask:n,otp:u,placeholder:i,type:l,dir:o,disabled:f,isCompleted:C,inputElements:k,onInputElementChange:h}),(_,I)=>($(),S(e(Z),B(_.$attrs,{ref:e(b),dir:e(o),"data-complete":C.value?"":void 0,"data-disabled":e(f)?"":void 0}),{default:d(()=>[D(_.$slots,"default",{modelValue:e(w)}),s(Ce,{id:_.id,as:"input",feature:"focusable",tabindex:"-1",value:v.value.join(""),name:_.name??"",disabled:e(f),required:_.required,onFocus:I[0]||(I[0]=W=>{var J,L;return(L=(J=Array.from(k.value))==null?void 0:J[0])==null?void 0:L.focus()})},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),_t=P({__name:"PinInputInput",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},setup(c){const r=c,a=gt(),t=x(()=>Array.from(a.inputElements.value)),n=x(()=>a.currentModelValue.value[r.index]),u=x(()=>r.disabled||a.disabled.value),i=x(()=>a.otp.value),l=x(()=>a.type.value==="number"),f=x(()=>a.mask.value),{primitiveElement:p,currentElement:b}=Me();function o(g){var M;const y=g.target;if((((M=g.data)==null?void 0:M.length)??0)>1){W(y.value);return}if(l.value&&!/^\d*$/.test(y.value)){y.value=y.value.replace(/\D/g,"");return}y.value=y.value.slice(-1),L(r.index,y.value);const F=t.value[r.index+1];F&&F.focus()}function w(){const g=b.value;Le(()=>{g&&!g.value&&(g.placeholder=a.placeholder.value)})}function v(g){Te(g,Ue(),void 0,{itemsArray:t.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:a.dir.value})}function k(g){if(g.preventDefault(),g.target.value)L(r.index,"");else{const M=t.value[r.index-1];M&&(M.focus(),L(r.index-1,""))}}function h(g){g.key==="Delete"&&(g.preventDefault(),L(r.index,""))}function C(g){const y=g.target;y.setSelectionRange(1,1),y.value||(y.placeholder="")}function _(g){w()}function I(g){g.preventDefault();const y=g.clipboardData;if(!y)return;const F=y.getData("text");W(F)}function W(g){var ce;const y=[...a.currentModelValue.value],F=g.length>=t.value.length?0:r.index,M=Math.min(F+g.length,t.value.length);for(let N=F;N<M;N++){const Fe=t.value[N],de=g[N-F];l.value&&!/^\d*$/.test(de)||(y[N]=de,Fe.focus())}a.modelValue.value=y,(ce=t.value[M])==null||ce.focus()}function J(g){let y=g.length-1;for(;y>=0&&g[y]==="";)g.pop(),y--;return g}function L(g,y){const F=[...a.currentModelValue.value];F[g]=l.value?+y:y,a.modelValue.value=J(F)}return G(n,()=>{n.value||w()}),qe(()=>{a.onInputElementChange(b.value)}),De(()=>{var g;(g=a.inputElements)==null||g.value.delete(b.value)}),(g,y)=>($(),S(e(Z),{ref_key:"primitiveElement",ref:p,autocapitalize:"none",as:g.as,"as-child":g.asChild,autocomplete:i.value?"one-time-code":"false",type:f.value?"password":"text",inputmode:l.value?"numeric":"text",pattern:l.value?"[0-9]*":void 0,placeholder:e(a).placeholder.value,value:n.value,disabled:u.value,"data-disabled":u.value?"":void 0,"data-complete":e(a).isCompleted.value?"":void 0,"aria-label":`pin input ${g.index+1} of ${t.value.length}`,onInput:y[0]||(y[0]=F=>o(F)),onKeydown:[X(v,["left","right","up","down","home","end"]),X(k,["backspace"]),X(h,["delete"])],onFocus:C,onBlur:_,onPaste:I},{default:d(()=>[D(g.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}});/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Ne("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),xt="/assets/login-banner-ZfMZACb6.png",$t=P({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(c,{emit:r}){const a=c,t=r,n=x(()=>{const{class:i,...l}=a;return l}),u=he(n,t);return(i,l)=>($(),S(e(ft),B(e(u),{class:e(Q)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a.class)}),{default:d(()=>[s(e(vt),{class:"h-full w-full flex items-center justify-center text-current"},{default:d(()=>[D(i.$slots,"default",{},()=>[s(e(ht),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),wt={class:"flex-center-start gap-2"},kt=["for"],Vt=P({name:"FaCheckbox",__name:"index",props:ee({disabled:{type:Boolean}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const r=xe(c,"modelValue"),a=$e();return(t,n)=>($(),T("div",wt,[s(e($t),{id:e(a),modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=u=>r.value=u),disabled:t.disabled},null,8,["id","modelValue","disabled"]),m("label",{for:e(a),class:"cursor-pointer text-sm"},[D(t.$slots,"default")],8,kt)]))}}),Ct={class:"min-h-500px w-full flex-col-stretch-center p-12"},St={class:"mb-4"},Pt={class:"mb-4 flex-center-between"},Ft={class:"flex-center-start"},Bt={class:"mt-4 flex-center gap-2 text-sm"},It={class:"mt-4 text-center -mb-4"},Rt={class:"space-x-2"},zt="Fantastic-admin 基础版",At=P({name:"LoginForm",__name:"LoginForm",props:{account:{}},emits:["onLogin","onRegister","onResetPassword"],setup(c,{emit:r}){const a=c,t=r,n=Ke(),u=R(!1),i=R("default"),l=re({validationSchema:ie(ue({account:z().min(1,"请输入用户名"),password:z().min(1,"请输入密码"),remember:rt()})),initialValues:{account:a.account??localStorage.getItem("login_account")??"",password:"",remember:!!localStorage.getItem("login_account")}}),f=l.handleSubmit(b=>{u.value=!0,n.login(b).then(()=>{b.remember?localStorage.setItem("login_account",b.account):localStorage.removeItem("login_account"),t("onLogin",b.account)}).finally(()=>{u.value=!1})});function p(b){l.setFieldValue("account",b),l.setFieldValue("password","123456"),f()}return(b,o)=>{const w=Ze,v=le,k=Vt,h=oe,C=He;return $(),T("div",Ct,[m("div",{class:"mb-6 space-y-2"},[o[6]||(o[6]=m("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," 欢迎使用 👋🏻 ",-1)),m("p",{class:"text-sm text-muted-foreground lg:text-base"},we(zt))]),m("div",St,[s(w,{modelValue:e(i),"onUpdate:modelValue":o[0]||(o[0]=_=>Je(i)?i.value=_:null),list:[{label:"账号密码登录",value:"default"},{label:"扫码登录",value:"qrcode"}],class:"inline-flex"},null,8,["modelValue"])]),fe(m("div",null,[m("form",{onSubmit:o[3]||(o[3]=(..._)=>e(f)&&e(f)(..._))},[s(e(j),{name:"account"},{default:d(({componentField:_,errors:I})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(v,B({type:"text",placeholder:"请输入用户名",class:["w-full",I.length&&"border-destructive"]},_),null,16,["class"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),s(e(j),{name:"password"},{default:d(({componentField:_,errors:I})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(v,B({type:"password",placeholder:"请输入密码",class:["w-full",I.length&&"border-destructive"]},_),null,16,["class"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),m("div",Pt,[m("div",Ft,[s(e(j),{type:"checkbox",name:"remember"},{default:d(({componentField:_})=>[s(e(E),null,{default:d(()=>[s(e(O),null,{default:d(()=>[s(k,Xe(Ge(_)),{default:d(()=>o[7]||(o[7]=[V(" 记住我 ")])),_:2,__:[7]},1040)]),_:2},1024)]),_:2},1024)]),_:1})]),s(h,{variant:"link",class:"h-auto p-0",type:"button",onClick:o[1]||(o[1]=_=>t("onResetPassword",e(l).values.account))},{default:d(()=>o[8]||(o[8]=[V(" 忘记密码了? ")])),_:1,__:[8]})]),s(h,{loading:e(u),size:"lg",class:"w-full",type:"submit"},{default:d(()=>o[9]||(o[9]=[V(" 登录 ")])),_:1,__:[9]},8,["loading"]),m("div",Bt,[o[11]||(o[11]=m("span",{class:"text-secondary-foreground op-50"},"还没有帐号?",-1)),s(h,{variant:"link",class:"h-auto p-0",type:"button",onClick:o[2]||(o[2]=_=>t("onRegister",e(l).values.account))},{default:d(()=>o[10]||(o[10]=[V(" 注册新帐号 ")])),_:1,__:[10]})])],32),m("div",It,[s(C,null,{default:d(()=>o[12]||(o[12]=[V("演示账号一键登录")])),_:1,__:[12]}),m("div",Rt,[s(h,{variant:"default",size:"sm",plain:"",onClick:o[4]||(o[4]=_=>p("admin"))},{default:d(()=>o[13]||(o[13]=[V(" admin ")])),_:1,__:[13]}),s(h,{variant:"outline",size:"sm",plain:"",onClick:o[5]||(o[5]=_=>p("test"))},{default:d(()=>o[14]||(o[14]=[V(" test ")])),_:1,__:[14]})])])],512),[[ve,e(i)==="default"]]),fe(m("div",null,o[15]||(o[15]=[m("div",{class:"flex-col-center"},[m("img",{src:"https://s2.loli.net/2024/04/26/GsahtuIZ9XOg5jr.png",class:"h-[250px] w-[250px]"}),m("div",{class:"mt-2 text-sm text-secondary-foreground op-50"}," 请使用微信扫码登录 ")],-1)]),512),[[ve,e(i)==="qrcode"]])])}}}),jt={class:"w-full flex-center gap-2"},Et={class:"h-2 flex-1 overflow-hidden rounded-full bg-border"},Ot={class:"py-1"},Mt={class:"text-sm text-muted-foreground space-y-1"},qt=5,Dt=P({name:"FaPasswordStrength",__name:"index",props:{password:{default:""}},setup(c){const r=c,a=x(()=>r.password.length>=8),t=x(()=>/[A-Z]/.test(r.password)),n=x(()=>/[a-z]/.test(r.password)),u=x(()=>/\d/.test(r.password)),i=x(()=>/[^A-Z0-9]/i.test(r.password)),l=x(()=>{let p=0;return a.value&&p++,t.value&&p++,n.value&&p++,u.value&&p++,i.value&&p++,p}),f=x(()=>l.value===0?"bg-red-500":l.value<3?"bg-orange-500":l.value<5?"bg-yellow-500":"bg-green-500");return(p,b)=>{const o=We,w=it;return $(),T("div",jt,[m("div",Et,[m("div",{class:U([e(f),"h-full transition-all duration-300 ease-out"]),style:Qe({width:`${e(l)/qt*100}%`})},null,6)]),s(w,null,{content:d(()=>[m("div",Ot,[b[5]||(b[5]=m("div",{class:"mb-1 text-sm text-muted-foreground"}," 建议 ",-1)),m("ul",Mt,[m("li",{class:U(["flex-center-start gap-1",{"text-green-600":e(a)}])},[s(o,{name:e(a)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),b[0]||(b[0]=V(" 长度至少为8个字符 "))],2),m("li",{class:U(["flex-center-start gap-1",{"text-green-600":e(t)}])},[s(o,{name:e(t)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),b[1]||(b[1]=V(" 包含大写字母 "))],2),m("li",{class:U(["flex-center-start gap-1",{"text-green-600":e(n)}])},[s(o,{name:e(n)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),b[2]||(b[2]=V(" 包含小写字母 "))],2),m("li",{class:U(["flex-center-start gap-1",{"text-green-600":e(u)}])},[s(o,{name:e(u)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),b[3]||(b[3]=V(" 包含数字 "))],2),m("li",{class:U(["flex-center-start gap-1",{"text-green-600":e(i)}])},[s(o,{name:e(i)?"i-carbon:checkmark":"i-carbon:close"},null,8,["name"]),b[4]||(b[4]=V(" 包含特殊字符 "))],2)])])]),default:d(()=>[s(o,{name:"i-ri:question-line",class:"cursor-help text-sm text-muted-foreground"})]),_:1})])}}}),Lt={class:"min-h-500px w-full flex-col-stretch-center p-12"},Tt={class:"mt-4 flex-center gap-2 text-sm"},Ut=P({name:"RegisterForm",__name:"RegisterForm",props:{account:{}},emits:["onLogin","onRegister"],setup(c,{emit:r}){const a=c,t=r,n=R(!1),u=re({validationSchema:ie(ue({account:z().min(1,"请输入用户名"),captcha:z().min(6,"请输入验证码"),password:z().min(1,"请输入密码").min(6,"密码长度为6到18位").max(18,"密码长度为6到18位"),checkPassword:z().min(1,"请再次输入密码")}).refine(l=>l.password===l.checkPassword,{message:"两次输入的密码不一致",path:["checkPassword"]})),initialValues:{account:a.account??"",captcha:"",password:"",checkPassword:""}}),i=u.handleSubmit(l=>{n.value=!0,t("onRegister",l.account)});return(l,f)=>{const p=le,b=Dt,o=Ye("FormDescription"),w=oe;return $(),T("div",Lt,[m("form",{onSubmit:f[1]||(f[1]=(...v)=>e(i)&&e(i)(...v))},[f[5]||(f[5]=m("div",{class:"mb-8 space-y-2"},[m("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," 探索从这里开始 🚀 "),m("p",{class:"text-sm text-muted-foreground lg:text-base"}," 演示系统未提供该功能 ")],-1)),s(e(j),{name:"account"},{default:d(({componentField:v,errors:k})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(p,B({type:"text",placeholder:"请输入用户名",class:["w-full",k.length&&"border-destructive"]},v),null,16,["class"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),s(e(j),{name:"password"},{default:d(({componentField:v,value:k,errors:h})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(p,B({type:"password",placeholder:"请输入密码",class:["w-full",h.length&&"border-destructive"]},v),null,16,["class"])]),_:2},1024),s(o,null,{default:d(()=>[s(b,{password:k,class:"mt-2"},null,8,["password"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),s(e(j),{name:"checkPassword"},{default:d(({componentField:v,errors:k})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(p,B({type:"password",placeholder:"请再次输入密码",class:["w-full",k.length&&"border-destructive"]},v),null,16,["class"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),s(w,{loading:e(n),size:"lg",class:"mt-4 w-full",type:"submit"},{default:d(()=>f[2]||(f[2]=[V(" 注册 ")])),_:1,__:[2]},8,["loading"]),m("div",Tt,[f[4]||(f[4]=m("span",{class:"text-secondary-foreground op-50"},"已经有帐号?",-1)),s(w,{variant:"link",class:"h-auto p-0",onClick:f[0]||(f[0]=v=>t("onLogin",e(u).values.account))},{default:d(()=>f[3]||(f[3]=[V(" 去登录 ")])),_:1,__:[3]})])],32)])}}}),Nt=P({__name:"PinInput",props:{modelValue:{default:()=>[]},defaultValue:{},placeholder:{},mask:{type:Boolean},otp:{type:Boolean},type:{},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","complete"],setup(c,{emit:r}){const a=c,t=r,n=x(()=>{const{class:i,...l}=a;return l}),u=he(n,t);return(i,l)=>($(),S(e(yt),B(e(u),{class:e(Q)("flex gap-2 items-center",a.class)}),{default:d(()=>[D(i.$slots,"default")]),_:3},16,["class"]))}}),Kt=P({__name:"PinInputGroup",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(c){const r=c,a=x(()=>{const{class:n,...u}=r;return u}),t=ke(a);return(n,u)=>($(),S(e(Z),B(e(t),{class:e(Q)("flex items-center",r.class)}),{default:d(()=>[D(n.$slots,"default")]),_:3},16,["class"]))}}),Zt=P({__name:"PinInputInput",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(c){const r=c,a=x(()=>{const{class:n,...u}=r;return u}),t=ke(a);return(n,u)=>($(),S(e(_t),B(e(t),{class:e(Q)("relative text-center focus:outline-none focus:ring-2 focus:ring-ring focus:relative focus:z-10 flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",r.class)}),null,16,["class"]))}}),Jt=P({name:"FaPinInput",__name:"index",props:ee({length:{default:6}},{modelValue:{},modelModifiers:{}}),emits:ee(["complete"],["update:modelValue"]),setup(c,{emit:r}){const a=r,t=xe(c,"modelValue"),n=R([]);G(t,l=>{n.value=(l==null?void 0:l.split(""))??[]}),G(n,l=>{t.value=l.join("")});function u(l){t.value=l.join(""),a("complete")}const i=$e();return(l,f)=>($(),S(e(Nt),{id:e(i),"model-value":e(n),placeholder:"○",otp:"",onComplete:u,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value=p.filter(Boolean))},{default:d(()=>[s(e(Kt),null,{default:d(()=>[($(!0),T(Ve,null,et(l.length,(p,b)=>($(),S(e(Zt),{key:p,index:b},null,8,["index"]))),128))]),_:1})]),_:1},8,["id","model-value"]))}}),Xt={class:"min-h-500px w-full flex-col-stretch-center p-12"},Gt={class:"flex-start-between gap-2"},Ht={class:"mt-4 flex-center gap-2 text-sm color-[var(--el-text-color-secondary)]"},Qt=P({name:"ResetPasswordForm",__name:"ResetPasswordForm",props:{account:{}},emits:["onLogin","onResetPassword"],setup(c,{emit:r}){const a=c,t=r,n=R(!1),u=re({validationSchema:ie(ue({account:z().min(1,"请输入用户名"),captcha:z().min(6,"请输入验证码"),newPassword:z().min(1,"请输入新密码").min(6,"密码长度为6到18位").max(18,"密码长度为6到18位")})),initialValues:{account:a.account??"",captcha:"",newPassword:""}}),i=u.handleSubmit(b=>{n.value=!0,t("onResetPassword",b.account)}),l=R(0),f=R(Number.NaN);function p(){l.value=60,f.value=window.setInterval(()=>{l.value--,l.value===0&&clearInterval(f.value)},1e3)}return(b,o)=>{const w=le,v=Jt,k=oe;return $(),T("div",Xt,[m("form",{onSubmit:o[1]||(o[1]=(...h)=>e(i)&&e(i)(...h))},[o[4]||(o[4]=m("div",{class:"mb-8 space-y-2"},[m("h3",{class:"text-4xl color-[var(--el-text-color-primary)] font-bold"}," 忘记密码了? 🔒 "),m("p",{class:"text-sm text-muted-foreground lg:text-base"}," 演示系统未提供该功能 ")],-1)),s(e(j),{name:"account"},{default:d(({componentField:h,errors:C})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(w,B({type:"text",placeholder:"请输入用户名",class:["w-full",C.length&&"border-destructive"]},h),null,16,["class"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),m("div",Gt,[s(e(j),{name:"captcha"},{default:d(({componentField:h,value:C,setValue:_})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(v,{"model-value":C,name:h.name,length:6,class:"border-destructive","onUpdate:modelValue":I=>_(I)},null,8,["model-value","name","onUpdate:modelValue"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),s(k,{variant:"outline",size:"lg",disabled:e(l)>0,class:"flex-1 px-4",onClick:p},{default:d(()=>[V(we(e(l)===0?"发送验证码":`${e(l)} 秒后可重新发送`),1)]),_:1},8,["disabled"])]),s(e(j),{name:"newPassword"},{default:d(({componentField:h,errors:C})=>[s(e(E),{class:"relative pb-6 space-y-0"},{default:d(()=>[s(e(O),null,{default:d(()=>[s(w,B({type:"password",placeholder:"请输入新密码",class:["w-full",C.length&&"border-destructive"]},h),null,16,["class"])]),_:2},1024),s(A,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:d(()=>[s(e(q),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),s(k,{loading:e(n),size:"lg",class:"mt-4 w-full",type:"submit"},{default:d(()=>o[2]||(o[2]=[V(" 确认 ")])),_:1,__:[2]},8,["loading"]),m("div",Ht,[s(k,{variant:"link",class:"h-auto p-0",onClick:o[0]||(o[0]=h=>t("onLogin",e(u).values.account))},{default:d(()=>o[3]||(o[3]=[V(" 去登录 ")])),_:1,__:[3]})])],32)])}}}),Wt={class:"absolute right-4 top-4 z-1 flex-center border rounded-lg bg-background p-1 text-base"},Yt={class:"login-box"},ea={class:"login-form flex-col-center"},Pe=P({name:"Login",__name:"login",setup(c){var l;const r=at(),a=st(),t=tt(),n=R(((l=r.query.redirect)==null?void 0:l.toString())??t.settings.home.fullPath),u=R(),i=R("login");return(f,p)=>{const b=Ie;return $(),T(Ve,null,[p[8]||(p[8]=m("div",{class:"bg-banner"},null,-1)),m("div",Wt,[e(t).settings.toolbar.colorScheme?($(),S(ut,{key:0})):Y("",!0)]),m("div",Yt,[p[7]||(p[7]=m("div",{class:"login-banner"},[m("img",{src:ot,class:"absolute inset-s-4 inset-t-4 h-8 rounded"}),m("img",{src:xt,class:"banner"})],-1)),m("div",ea,[s(A,{name:"fade",mode:"out-in"},{default:d(()=>[e(i)==="login"?($(),S(At,{key:0,account:e(u),onOnLogin:p[0]||(p[0]=o=>e(a).push(e(n))),onOnRegister:p[1]||(p[1]=o=>{i.value="register",u.value=o}),onOnResetPassword:p[2]||(p[2]=o=>{i.value="resetPassword",u.value=o})},null,8,["account"])):e(i)==="register"?($(),S(Ut,{key:1,account:e(u),onOnRegister:p[3]||(p[3]=o=>{i.value="login",u.value=o}),onOnLogin:p[4]||(p[4]=o=>i.value="login")},null,8,["account"])):e(i)==="resetPassword"?($(),S(Qt,{key:2,account:e(u),onOnResetPassword:p[5]||(p[5]=o=>{i.value="login",u.value=o}),onOnLogin:p[6]||(p[6]=o=>i.value="login")},null,8,["account"])):Y("",!0)]),_:1})])]),s(b,{class:"copyright"})],64)}}});typeof ge=="function"&&ge(Pe);const da=nt(Pe,[["__scopeId","data-v-bc98dbc6"]]);export{da as default};
